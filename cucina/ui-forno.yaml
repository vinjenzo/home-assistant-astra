type: vertical-stack
cards:
  ###############################################
  # ðŸ”Œ ACCENSIONE / SPEGNIMENTO
  ###############################################
  - type: horizontal-stack
    cards:
      - type: custom:button-card
        name: Accendi
        icon: mdi:power
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_bsh_common_setting_powerstate
            option: BSH.Common.EnumType.PowerState.On
        styles:
          card:
            - background: rgba(76,175,80,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(76,175,80,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#4caf50"
          name:
            - color: white
            - font-size: 14px
            - font-weight: bold

      - type: custom:button-card
        name: Spegni
        icon: mdi:power-off
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_bsh_common_setting_powerstate
            option: BSH.Common.EnumType.PowerState.Standby
        styles:
          card:
            - background: rgba(244,67,54,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(244,67,54,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ef5350"
          name:
            - color: white
            - font-size: 14px
            - font-weight: bold

  ###############################################
  # ðŸ”’ CHILD LOCK
  ###############################################
  - type: custom:button-card
    name: Child Lock
    icon: mdi:lock
    tap_action:
      action: call-service
      service: switch.toggle
      target:
        entity_id: switch.bosch_383120532719000097_001_bsh_common_setting_childlock
    styles:
      card:
        - background: rgba(156,39,176,0.15)
        - border-radius: 12px
        - border: 1px solid rgba(156,39,176,0.3)
        - padding: 14px
      icon:
        - width: 40px
        - color: "#ba68c8"
      name:
        - color: white
        - font-size: 14px

  ###############################################
  # ðŸŒ¡ï¸ TEMPERATURA (SETTABILE)
  ###############################################
  - type: custom:button-card
    name: Temperatura
    icon: mdi:thermometer
    show_label: true
    label: >
      [[[
        const t = states['number.bosch_383120532719000097_001_cooking_oven_option_setpointtemperature']?.state;
        return t === 'unavailable' ? 'â€”' : `${t}Â°C`;
      ]]]
    tap_action:
      action: more-info
    styles:
      card:
        - background: rgba(255,152,0,0.15)
        - border-radius: 12px
        - border: 1px solid rgba(255,152,0,0.3)
        - padding: 14px
      icon:
        - width: 40px
        - color: "#ff9800"
      name:
        - color: white
        - font-size: 15px
        - font-weight: bold
      label:
        - color: "#ccc"
        - font-size: 13px

  ###############################################
  # â±ï¸ DURATA (SETTABILE)
  ###############################################
  - type: custom:button-card
    name: Durata
    icon: mdi:timer-outline
    show_label: true
    label: >
      [[[
        const d = states['number.bosch_383120532719000097_001_bsh_common_option_duration']?.state;
        return d === 'unavailable' ? 'â€”' : `${Math.round(d/60)} min`;
      ]]]
    tap_action:
      action: more-info
    styles:
      card:
        - background: rgba(33,150,243,0.15)
        - border-radius: 12px
        - border: 1px solid rgba(33,150,243,0.3)
        - padding: 14px
      icon:
        - width: 40px
        - color: "#2196f3"
      name:
        - color: white
        - font-size: 15px
        - font-weight: bold
      label:
        - color: "#ccc"
        - font-size: 13px

  ###############################################
  # ðŸ”¥ PROGRAMMI (SOLO QUELLI SUPPORTATI)
  ###############################################
  - type: markdown
    content: "### ðŸ”¥ Programmi"
    card_mod:
      style: |
        ha-card { background: transparent; padding: 0; }

  - type: grid
    columns: 2
    square: false
    cards:
      # HOT AIR
      - type: custom:button-card
        name: HotAir
        icon: mdi:fan
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.HotAir
        state:
          - value: Cooking.Oven.Program.HeatingMode.HotAir
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(255,152,0,0.8)
                - border: 1px solid rgba(255,152,0,0.8)
        styles:
          card:
            - background: rgba(255,152,0,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(255,152,0,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ff9800"
          name:
            - color: white

      # PIZZA
      - type: custom:button-card
        name: Pizza
        icon: mdi:pizza
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.PizzaSetting
        state:
          - value: Cooking.Oven.Program.HeatingMode.PizzaSetting
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(255,87,34,0.8)
                - border: 1px solid rgba(255,87,34,0.8)
        styles:
          card:
            - background: rgba(255,87,34,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(255,87,34,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ff5722"
          name:
            - color: white

      # STATICO
      - type: custom:button-card
        name: Statico
        icon: mdi:heat-wave
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.TopBottomHeating
        state:
          - value: Cooking.Oven.Program.HeatingMode.TopBottomHeating
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(255,193,7,0.8)
                - border: 1px solid rgba(255,193,7,0.8)
        styles:
          card:
            - background: rgba(255,193,7,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(255,193,7,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ffc107"
          name:
            - color: white

      # STATICO ECO
      - type: custom:button-card
        name: Eco
        icon: mdi:leaf
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.TopBottomHeatingEco
        state:
          - value: Cooking.Oven.Program.HeatingMode.TopBottomHeatingEco
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(76,175,80,0.8)
                - border: 1px solid rgba(76,175,80,0.8)
        styles:
          card:
            - background: rgba(76,175,80,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(76,175,80,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#4caf50"
          name:
            - color: white

      # GRILL VENTILATO
      - type: custom:button-card
        name: Grill Ventilato
        icon: mdi:grill
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.HotAirGrilling
        state:
          - value: Cooking.Oven.Program.HeatingMode.HotAirGrilling
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(255,87,34,0.8)
                - border: 1px solid rgba(255,87,34,0.8)
        styles:
          card:
            - background: rgba(255,87,34,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(255,87,34,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ff5722"
          name:
            - color: white

      # SLOWCOOK
      - type: custom:button-card
        name: SlowCook
        icon: mdi:tortoise
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.SlowCook
        state:
          - value: Cooking.Oven.Program.HeatingMode.SlowCook
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(33,150,243,0.8)
                - border: 1px solid rgba(33,150,243,0.8)
        styles:
          card:
            - background: rgba(33,150,243,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(33,150,243,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#2196f3"
          name:
            - color: white

      # SOLO BASSO
      - type: custom:button-card
        name: Solo Basso
        icon: mdi:arrow-down-bold-box
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.BottomHeating
        state:
          - value: Cooking.Oven.Program.HeatingMode.BottomHeating
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(255,193,7,0.8)
                - border: 1px solid rgba(255,193,7,0.8)
        styles:
          card:
            - background: rgba(255,193,7,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(255,193,7,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ffc107"
          name:
            - color: white

      # KEEP WARM
      - type: custom:button-card
        name: Mantieni Caldo
        icon: mdi:food-hot
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.KeepWarm
        state:
          - value: Cooking.Oven.Program.HeatingMode.KeepWarm
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(255,152,0,0.8)
                - border: 1px solid rgba(255,152,0,0.8)
        styles:
          card:
            - background: rgba(255,152,0,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(255,152,0,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#ff9800"
          name:
            - color: white

      # PREHEATING
      - type: custom:button-card
        name: Preheat
        icon: mdi:thermometer-lines
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.PreHeating
        state:
          - value: Cooking.Oven.Program.HeatingMode.PreHeating
            entity: select.bosch_383120532719000097_001_programs
            styles:
              card:
                - box-shadow: 0 0 12px 4px rgba(33,150,243,0.8)
                - border: 1px solid rgba(33,150,243,0.8)
        styles:
          card:
            - background: rgba(33,150,243,0.15)
            - border-radius: 12px
            - border: 1px solid rgba(33,150,243,0.3)
            - padding: 14px
          icon:
            - width: 40px
            - color: "#2196f3"
          name:
            - color: white

      # PREHEAT OVENWARE
      - type: custom:button-card
        name: PreheatWare
        icon: mdi:pot-steam
        tap_action:
          action: call-service
          service: select.select_option
          data:
            entity_id: select.bosch_383120532719000097_001_programs
            option: Cooking.Oven.Program.HeatingMode.PreheatOvenware
        state:
          - value: Cooking.Oven.Program.HeatingMode.PreheatOvenware
            entity: select.bosch_383120532719000097_
